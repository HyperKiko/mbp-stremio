<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=1920, initial-scale=1.0" />
        <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
        <title>MovieBoxPro Stremio Addon</title>
    </head>
    <body
        class="bg-slate-900 text-white flex items-center justify-center w-screen h-screen"
    >
        <div
            class="w-96 rounded-3xl bg-slate-800 border-slate-600 border-2 flex flex-col p-6 text-xl gap-4"
        >
            <label for="token">Token</label>
            <input
                type="text"
                name="token"
                id="token"
                class="border-2 border-slate-600 rounded-xl h-12 p-2"
                placeholder="eyJhbGciOiJIUzI1Ni..."
            />
            <button
                class="bg-slate-900 h-12 p-2 border-2 border-slate-600 rounded-xl cursor-pointer"
                id="button"
            >
                Copy URL
            </button>
        </div>
        <script>
            /** @type HTMLInputElement */
            const input = document.getElementById("token");
            /** @type HTMLButtonElement */
            const button = document.getElementById("button");
            button.onclick = (e) =>
                navigator.clipboard
                    .writeText(
                        new URL(
                            `/${new URLSearchParams({
                                token: input.value
                            }).toString()}/manifest.json`,
                            location.href
                        )
                    )
                    .then(() => alert("Copied!"));
        </script>
    </body>
</html>
